{
	"name": "eInput üïπÔ∏è",
	"events": [
		{
			"eventType": "comment",
			"text": "todo touch input?"
		},
		{
			"eventType": "comment",
			"text": "Level up UI"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-key-pressed",
					"objectClass": "Keyboard",
					"sid": 737310711360810
				},
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 485924114506189,
					"parameters": {
						"object": "UI_Button9P_Upgrade"
					}
				},
				{
					"id": "on-object-clicked",
					"objectClass": "Mouse",
					"sid": 343676911332355,
					"parameters": {
						"mouse-button": "left",
						"click-type": "clicked",
						"object-clicked": "UI_Button9P_Upgrade"
					}
				}
			],
			"actions": [
				{
					"customAction": "onSelectUpgrade",
					"objectClass": "Player",
					"sid": 741645598246634,
					"parameters": [
						"UI_Button9P_Upgrade.PickedCount = 1 ?\nUI_Button9P_Upgrade.option :\nint(Keyboard.TypedKey)"
					]
				}
			],
			"sid": 382725593248600,
			"isOrBlock": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-button-pressed",
					"objectClass": "Gamepad",
					"sid": 486670448023265,
					"parameters": {
						"gamepad": "0"
					}
				}
			],
			"actions": [
				{
					"customAction": "onSelectUpgrade",
					"objectClass": "Player",
					"sid": 120539116560620,
					"parameters": [
						"Gamepad.ButtonIndex + 1"
					]
				}
			],
			"sid": 279075834522245
		},
		{
			"eventType": "comment",
			"text": "Enable full screen - because why waste two events on toggling :) user can cancel with Esc."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 721749153108317,
					"parameters": {
						"key": 70
					}
				},
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 302409571708101,
					"parameters": {
						"key": 16
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Enable full screen"
				},
				{
					"id": "request-fullscreen",
					"objectClass": "Browser",
					"sid": 743018549105810,
					"parameters": {
						"mode": "stretch-scale-outer",
						"navigation-ui": "auto"
					}
				}
			],
			"sid": 275256803650067
		},
		{
			"eventType": "comment",
			"text": "Toggle pause"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 595682033696653,
					"parameters": {
						"key": 80
					}
				},
				{
					"id": "on-button-pressed",
					"objectClass": "Gamepad",
					"sid": 741403628142286,
					"parameters": {
						"gamepad": "0",
						"button": "start-menu"
					}
				}
			],
			"actions": [
				{
					"id": "set-visible",
					"objectClass": "UI_TextSF_Pause",
					"sid": 984196809538558,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 898095459607257,
					"parameters": {
						"variable": "isPaused",
						"value": "isLeveling = YES ? isPaused : (isPaused = YES ? NO : YES)"
					}
				},
				{
					"id": "set-opacity",
					"objectClass": "UI_TextSF_Pause",
					"sid": 272792598130707,
					"parameters": {
						"opacity": "isPaused ? 100 : 0"
					}
				},
				{
					"type": "comment",
					"text": "Update stats UI"
				},
				{
					"id": "set-text",
					"objectClass": "UI_TextSF_Stats",
					"sid": 900704920651912,
					"parameters": {
						"text": "StringSub(\"Wave {0}: #{1}, cycle #{2}\", waveCount, waveId, waveCycle) & newline &\n\"Player level: \" & Player.level & newline &\n\"Health: \" & round(Rules.Get(KEY_Player & DOT & KEY_Health)) & \" / \" & round(Rules.Get(KEY_Player & DOT & KEY_Health_Max)) & newline &\n\"Enemies killed: \" & enemiesKilled & newline &\n\"Enemy spawn amount bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Enemy_Spawn_Amount_Multiplier) * 100 & \"%\" & newline &\n\"XP gain bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Experience_Multiplier) * 100 & \"%\" & newline &\n\"Healing bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Healing_Multiplier) * 100 & \"%\" & newline &\n\"Regeneration bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Regeneration_Amount) * 100 & \"%\" & newline &\n\"Weapon cooldown bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Cooldown_Multiplier) * 100 & \"%\" & newline &\n\"Weapon damage bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Damage_Multiplier) * 100 & \"%\" & newline &\n\"Weapon size bonus: \" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Size_Multiplier) * 100 & \"%\" & newline &\n\"Weapon amount bonus: +\" & Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Amount_Extra) & newline\n"
					}
				},
				{
					"id": "set-opacity",
					"objectClass": "UI_TextSF_Stats",
					"sid": 558180475817660,
					"parameters": {
						"opacity": "isPaused ? 100 : 0"
					}
				},
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 394360798595963,
					"parameters": {
						"time-scale": "abs(isPaused - 1)"
					}
				}
			],
			"sid": 988978364115935,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "Restart game"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-hold-over-object",
					"objectClass": "Touch",
					"sid": 567012130350021,
					"parameters": {
						"object": "UI_TextSF_GameOver"
					}
				},
				{
					"id": "on-object-clicked",
					"objectClass": "Mouse",
					"sid": 617621633102459,
					"parameters": {
						"mouse-button": "left",
						"click-type": "clicked",
						"object-clicked": "UI_TextSF_GameOver"
					}
				},
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 291771175703523,
					"parameters": {
						"key": 82
					}
				},
				{
					"id": "on-button-pressed",
					"objectClass": "Gamepad",
					"sid": 590092787763305,
					"parameters": {
						"gamepad": "0",
						"button": "back-view"
					}
				}
			],
			"actions": [
				{
					"id": "reload",
					"objectClass": "Browser",
					"sid": 646195926729200
				}
			],
			"sid": 894833612974342,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "todo_prod remove"
		},
		{
			"eventType": "comment",
			"text": "todo_pack"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 923746712832228,
					"parameters": {
						"key": 52
					}
				}
			],
			"actions": [
				{
					"id": "stop-timer",
					"objectClass": "Player",
					"sid": 762333826121700,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "TIMER_Wave"
					}
				},
				{
					"id": "stop-timer",
					"objectClass": "Player",
					"sid": 694782701146895,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "TIMER_WaveCycle"
					}
				}
			],
			"sid": 650745842861088
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 697373452926754,
					"parameters": {
						"key": 53
					}
				}
			],
			"actions": [
				{
					"customAction": "applyModifier",
					"objectClass": "Player",
					"sid": 138000117224545,
					"parameters": [
						"\"Spikes_Amount\""
					]
				},
				{
					"customAction": "applyModifier",
					"objectClass": "Player",
					"sid": 649403129098451,
					"parameters": [
						"\"Axe_Amount\""
					]
				},
				{
					"customAction": "applyModifier",
					"objectClass": "Player",
					"sid": 291657791115488,
					"parameters": [
						"\"Chainsaw_Amount\""
					]
				},
				{
					"customAction": "applyModifier",
					"objectClass": "Player",
					"sid": 722467348444723,
					"parameters": [
						"\"Flame_Amount\""
					]
				}
			],
			"sid": 275142110073853
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 417983204160351,
					"parameters": {
						"key": 54
					}
				}
			],
			"actions": [
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 589261126962361,
					"parameters": {
						"path": "KEY_Player & DOT & KEY_PickupDistance",
						"value": "1000"
					}
				}
			],
			"sid": 591824155855345
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 743136669516648,
					"parameters": {
						"key": 55
					}
				}
			],
			"actions": [
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 851404473583778,
					"parameters": {
						"path": "KEY_Player & DOT & KEY_PickupDistance",
						"value": "30"
					}
				}
			],
			"sid": 217108654786040
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 626404855373322,
					"parameters": {
						"key": 56
					}
				}
			],
			"actions": [
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 500801554112144,
					"parameters": {
						"path": "KEY_Player & DOT & KEY_Health",
						"value": "20"
					}
				}
			],
			"sid": 498991757643061
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 266417238029725,
					"parameters": {
						"key": 57
					}
				}
			],
			"actions": [
				{
					"customAction": "applyModifier",
					"objectClass": "Player",
					"sid": 177500258081648,
					"parameters": [
						"\"HealMax\""
					]
				}
			],
			"sid": 420276749749146
		}
	],
	"sid": 909767790016851
}