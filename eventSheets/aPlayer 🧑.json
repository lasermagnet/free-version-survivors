{
	"name": "aPlayer ðŸ§‘",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-world-gravity",
					"objectClass": "Player",
					"sid": 586979652809177,
					"behaviorType": "Physics",
					"parameters": {
						"gravity": "0"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 901945052113015,
					"parameters": {
						"object-to-create": "Player",
						"layer": "LAYER_Main",
						"x": "LayoutWidth * 0.5",
						"y": "LayoutHeight * 0.5",
						"create-hierarchy": true,
						"template-name": "\"\""
					}
				},
				{
					"type": "comment",
					"text": "Initialize player behaviours"
				},
				{
					"id": "set-max-speed",
					"objectClass": "Player",
					"sid": 316291171629907,
					"behaviorType": "8Direction",
					"parameters": {
						"max-speed": "Rules.Get(KEY_Player & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"id": "set-acceleration",
					"objectClass": "Player",
					"sid": 221202146104270,
					"behaviorType": "8Direction",
					"parameters": {
						"acceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementAcceleration)"
					}
				},
				{
					"id": "set-deceleration",
					"objectClass": "Player",
					"sid": 993068735412028,
					"behaviorType": "8Direction",
					"parameters": {
						"deceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementDeceleration)"
					}
				},
				{
					"type": "comment",
					"text": "Initialize enemy & item spawn cooldowns"
				},
				{
					"id": "set-value",
					"objectClass": "Cooldowns",
					"sid": 638920384230792,
					"parameters": {
						"path": "KEY_Spawns & DOT & KEY_Enemies",
						"value": "Rules.Get(KEY_Spawns & DOT & KEY_Enemies & DOT & KEY_Cooldown)"
					}
				},
				{
					"id": "set-value",
					"objectClass": "Cooldowns",
					"sid": 899906220112829,
					"parameters": {
						"path": "KEY_Spawns & DOT & KEY_Items",
						"value": "Rules.Get(KEY_Spawns & DOT & KEY_Items & DOT & KEY_Cooldown)"
					}
				}
			],
			"sid": 821905210614926
		},
		{
			"aceType": "action",
			"aceName": "tick_input",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 844885624716234,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 954428231497829,
					"parameters": {
						"instance-variable": "IN_Movement_Active",
						"value": "NO"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 177688051001749,
					"parameters": {
						"instance-variable": "IN_Vector_X",
						"value": "0"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 978730537400933,
					"parameters": {
						"instance-variable": "IN_Vector_Y",
						"value": "0"
					}
				}
			],
			"sid": 823782812326942,
			"children": [
				{
					"eventType": "comment",
					"text": "Keyboard & gamepad D-pad (digital)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 772246255168906,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 786399882874846,
							"parameters": {
								"key": 38
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 805028382977787,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-up"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Up"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 680243255169599,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "Player",
							"sid": 379931190030021,
							"parameters": {
								"instance-variable": "IN_Vector_Y",
								"value": "1"
							}
						}
					],
					"sid": 581718632324741,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 834502893889159,
							"parameters": {
								"key": 83
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 896657789915836,
							"parameters": {
								"key": 40
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 717498175393543,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-down"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Down"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 647010615786517,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Player",
							"sid": 463085651783216,
							"parameters": {
								"instance-variable": "IN_Vector_Y",
								"value": "1"
							}
						}
					],
					"sid": 812801529942632,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 276593055585175,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 937706129584026,
							"parameters": {
								"key": 37
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 957800495108569,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-left"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Left"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 112032855513694,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "Player",
							"sid": 173675738846566,
							"parameters": {
								"instance-variable": "IN_Vector_X",
								"value": "1"
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "Player",
							"sid": 767699884217055,
							"disabled": true,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 108543780388197,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 597351052477431,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 615239764408925,
							"parameters": {
								"key": 39
							}
						},
						{
							"id": "is-button-down",
							"objectClass": "Gamepad",
							"sid": 561846695332405,
							"parameters": {
								"gamepad": "0",
								"button": "d-pad-right"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Right"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 670216901044388,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Player",
							"sid": 165518113987227,
							"parameters": {
								"instance-variable": "IN_Vector_X",
								"value": "1"
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "Player",
							"sid": 678338974065388,
							"disabled": true,
							"parameters": {
								"state": "not-mirrored"
							}
						}
					],
					"sid": 971231662640716,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Gamepad (analog)"
				},
				{
					"eventType": "comment",
					"text": "todo: player mirroring based on vector_x, do it in Player.tick"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 270446686242941,
							"parameters": {
								"gamepad": "0",
								"axis": "left-analog-x-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 667677360565018,
							"parameters": {
								"gamepad": "0",
								"axis": "left-analog-y-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 488216473442178,
							"parameters": {
								"gamepad": "0",
								"axis": "right-analog-x-axis",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-axis",
							"objectClass": "Gamepad",
							"sid": 164447874212789,
							"parameters": {
								"gamepad": "0",
								"axis": "right-analog-y-axis",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 218995351776755,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 179189209428264,
							"parameters": {
								"instance-variable": "IN_Vector_X",
								"value": "Gamepad.Axis(0, 0) + Gamepad.Axis(0, 2)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 399838042645245,
							"parameters": {
								"instance-variable": "IN_Vector_Y",
								"value": "Gamepad.Axis(0, 1) + Gamepad.Axis(0, 3)"
							}
						}
					],
					"sid": 975737648800403,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 643420804898053,
							"parameters": {
								"mouse-button": "left"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 231995645554363,
							"parameters": {
								"instance-variable": "IN_Movement_Active",
								"value": "YES"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 298749149706691,
							"parameters": {
								"instance-variable": "IN_Movement_Angle",
								"value": "angle(Self.X, Self.Y, Mouse.X, Mouse.Y)"
							}
						}
					],
					"sid": 345144455692634
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 198184957131593,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Player",
					"sid": 608216906352595,
					"parameters": {
						"instance-variable": "isDead",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 409663250665454,
					"parameters": {
						"variable": "isPaused",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Update enemy & item spawn cooldowns"
				},
				{
					"id": "set-value",
					"objectClass": "Cooldowns",
					"sid": 604608562984822,
					"parameters": {
						"path": "KEY_Spawns & DOT & KEY_Enemies",
						"value": "max(0, Cooldowns.Get(KEY_Spawns & DOT & KEY_Enemies) - dt)"
					}
				},
				{
					"id": "set-value",
					"objectClass": "Cooldowns",
					"sid": 378881065557794,
					"parameters": {
						"path": "KEY_Spawns & DOT & KEY_Items",
						"value": "max(0, Cooldowns.Get(KEY_Spawns & DOT & KEY_Items) - dt)"
					}
				},
				{
					"type": "comment",
					"text": "Reset hurt state variable"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 259950020665446,
					"parameters": {
						"instance-variable": "isHurt",
						"value": "NO"
					}
				},
				{
					"type": "comment",
					"text": "Update Z orders"
				},
				{
					"id": "move-to-top",
					"objectClass": "Enemy",
					"sid": 895177308946313
				},
				{
					"id": "move-to-top",
					"objectClass": "Weapon",
					"sid": 533239325380281
				},
				{
					"id": "move-to-top",
					"objectClass": "Arrow",
					"sid": 709494247023266
				},
				{
					"id": "move-to-top",
					"objectClass": "Player",
					"sid": 910721350011334
				},
				{
					"id": "move-to-top",
					"objectClass": "UI_TextSF_DamageNumber",
					"sid": 211095788548384
				},
				{
					"type": "comment",
					"text": "Override analog input if digital is active"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 389242365643063,
					"parameters": {
						"instance-variable": "IN_Movement_Angle",
						"value": "Self.IN_Vector_X <> 0 | Self.IN_Vector_Y <> 0 ?\nangle(0, 0, Self.IN_Vector_X, Self.IN_Vector_Y) :\nSelf.IN_Movement_Angle"
					}
				},
				{
					"type": "comment",
					"text": "Update 8-direction behaviour vectors"
				},
				{
					"id": "set-vector-x",
					"objectClass": "Player",
					"sid": 751285753920567,
					"behaviorType": "8Direction",
					"parameters": {
						"vector-x": "Self.IN_Movement_Active = YES ? cos(Self.IN_Movement_Angle) * Self.8Direction.MaxSpeed : 0"
					}
				},
				{
					"id": "set-vector-y",
					"objectClass": "Player",
					"sid": 944556552997328,
					"behaviorType": "8Direction",
					"parameters": {
						"vector-y": "Self.IN_Movement_Active = YES ? sin(Self.IN_Movement_Angle) * Self.8Direction.MaxSpeed : 0"
					}
				},
				{
					"type": "comment",
					"text": "Update last moving angle (for attacks) if player is moving"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 962096084900686,
					"parameters": {
						"instance-variable": "lastMovingAngle",
						"value": "Self.IN_Movement_Active = YES ? Self.IN_Movement_Angle : Self.lastMovingAngle"
					}
				},
				{
					"type": "comment",
					"text": "Update animation (idle or walking)"
				},
				{
					"id": "set-animation",
					"objectClass": "Player",
					"sid": 140199965495082,
					"parameters": {
						"animation": "Self.IN_Movement_Active = YES ? ANIM_Walking : ANIM_Idle",
						"from": "current-frame"
					}
				},
				{
					"type": "comment",
					"text": "Mirror player based on its movement angle"
				},
				{
					"type": "comment",
					"text": "todo_now"
				},
				{
					"id": "set-width",
					"objectClass": "Player",
					"sid": 634033339959857,
					"parameters": {
						"width": "anglediff(180, Self.IN_Movement_Angle) < 80 ?\r\n-abs(Self.Width) :\r\n(\r\nanglediff(0, Self.IN_Movement_Angle) < 80 ? abs(Self.Width) : Self.Width\r\n)"
					}
				}
			],
			"sid": 892639912846222,
			"children": [
				{
					"eventType": "comment",
					"text": "Update cooldown on weapons with at least 1 amount & attack when a cooldown is finished"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "Rules",
							"sid": 567391062633599,
							"parameters": {
								"path": "KEY_Weapons"
							}
						},
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 986676676024691,
							"parameters": {
								"path": "DOT & KEY_Amount",
								"cmp": 5,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-value",
							"objectClass": "Cooldowns",
							"sid": 527834733319670,
							"parameters": {
								"path": "KEY_Weapons & DOT & Rules.CurrentKey",
								"value": "max(0, Cooldowns.Get(KEY_Weapons & DOT & Rules.CurrentKey) - dt)"
							}
						}
					],
					"sid": 135052668909848,
					"children": [
						{
							"eventType": "comment",
							"text": "Attack when a cooldown is finished + reset cooldown"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-value",
									"objectClass": "Cooldowns",
									"sid": 437833347468631,
									"parameters": {
										"path": "KEY_Weapons & DOT & Rules.CurrentKey",
										"cmp": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-value",
									"objectClass": "Cooldowns",
									"sid": 865456342309256,
									"parameters": {
										"path": "KEY_Weapons & DOT & Rules.CurrentKey",
										"value": "Rules.Get(DOT & KEY_Cooldown) * Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Cooldown_Multiplier)"
									}
								},
								{
									"customAction": "spawn",
									"objectClass": "Weapon",
									"sid": 408879046172248,
									"parameters": [
										"Rules.CurrentKey",
										"Rules.Get(DOT & KEY_Amount) + Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Amount_Extra)",
										"Player.lastMovingAngle",
										"Rules.Get(DOT & KEY_Scale) * Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Size_Multiplier)",
										"Rules.Get(DOT & KEY_PositionRandom1)",
										"Rules.Get(DOT & KEY_PositionRandom2)",
										"Rules.Get(DOT & KEY_MovementSpeed)",
										"Rules.Get(DOT & KEY_MovementAcceleration)",
										"Rules.Get(DOT & KEY_Damage)",
										"Rules.Get(DOT & KEY_Timeout)",
										"Rules.Get(DOT & KEY_BlockMovement)",
										"Rules.Get(DOT & KEY_Pin)",
										"Rules.Get(DOT & KEY_OrbitRadius)",
										"Rules.Get(DOT & KEY_OrbitSpeed)"
									]
								}
							],
							"sid": 577702350018540
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the enemy spawn cooldown expires, reset it & add enemy amount to the spawn queue"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Cooldowns",
							"sid": 383748768843449,
							"parameters": {
								"path": "KEY_Spawns & DOT & KEY_Enemies",
								"cmp": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Reset enemy spawn cooldown"
						},
						{
							"id": "set-value",
							"objectClass": "Cooldowns",
							"sid": 696458896079350,
							"parameters": {
								"path": "KEY_Spawns & DOT & KEY_Enemies",
								"value": "Rules.Get(KEY_Spawns & DOT & KEY_Enemies & DOT & KEY_Cooldown)"
							}
						},
						{
							"type": "comment",
							"text": "Add enemy amount to spawn queue"
						},
						{
							"id": "add-to",
							"objectClass": "Rules",
							"sid": 232278523205720,
							"parameters": {
								"path": "KEY_Queues & DOT & KEY_Enemies",
								"value": "Rules.Get(KEY_Spawns & DOT & KEY_Enemies & DOT & KEY_Amount)"
							}
						}
					],
					"sid": 884938568296906
				},
				{
					"eventType": "comment",
					"text": "When the item spawn cooldown expires, reset it & add an item to the spawn queue"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Cooldowns",
							"sid": 485675764215928,
							"parameters": {
								"path": "KEY_Spawns & DOT & KEY_Items",
								"cmp": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Reset items spawn cooldown"
						},
						{
							"id": "set-value",
							"objectClass": "Cooldowns",
							"sid": 423696215753317,
							"parameters": {
								"path": "KEY_Spawns & DOT & KEY_Items",
								"value": "Rules.Get(KEY_Spawns & DOT & KEY_Items & DOT & KEY_Cooldown)"
							}
						},
						{
							"type": "comment",
							"text": "Add a (weighted) random item to the spawn queue"
						},
						{
							"id": "push-value",
							"objectClass": "Rules",
							"sid": 882009730037582,
							"parameters": {
								"where": "back",
								"path": "KEY_Queues & DOT & KEY_Items",
								"value": "AdvancedRandom.WeightedByName(PT_Items)"
							}
						}
					],
					"sid": 416805021167430
				},
				{
					"eventType": "comment",
					"text": "Pick up item"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Player",
							"sid": 229852428941040,
							"parameters": {
								"object": "Item"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Item",
							"sid": 792888105578515,
							"parameters": {
								"instance-variable": "isPickedUp",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 550811228631696,
							"parameters": {
								"type": "log",
								"message": "\"Picked up item: \" & Item.upgrade"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Item",
							"sid": 924526291743139,
							"parameters": {
								"instance-variable": "isPickedUp",
								"value": "YES"
							}
						},
						{
							"type": "comment",
							"text": "Apply \"item\" (upgrade)"
						},
						{
							"customAction": "applyUpgrade",
							"objectClass": "Player",
							"sid": 366719559556059,
							"parameters": [
								"Item.upgrade"
							]
						},
						{
							"type": "comment",
							"text": "Flash and fade out item"
						},
						{
							"id": "set-default-color",
							"objectClass": "Item",
							"sid": 484277913474189,
							"parameters": {
								"color": "rgbEx(500, 500, 500)"
							}
						},
						{
							"id": "stop-all-tweens",
							"objectClass": "Item",
							"sid": 207101199220881,
							"behaviorType": "Tween"
						},
						{
							"id": "set-opacity",
							"objectClass": "Item",
							"sid": 722870505118830,
							"parameters": {
								"opacity": "100"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Item",
							"sid": 865811529008529,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "1",
								"ease": "easeoutexpo",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 303362420858496
				},
				{
					"eventType": "comment",
					"text": "Attract & pick up drops"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Drop",
							"sid": 667811058829487,
							"parameters": {
								"instance-variable": "isCollected",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 819101292241200,
							"parameters": {
								"object": "Drop",
								"expression": "distance(Drop.X, Drop.Y, Player.X, Player.Y)",
								"comparison": 2,
								"value": "Rules.Get(KEY_Player & DOT & KEY_PickupDistance)"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Drop",
							"sid": 395249354730319,
							"behaviorType": "Bullet",
							"parameters": {
								"state": "enabled"
							}
						}
					],
					"sid": 622273281678330,
					"children": [
						{
							"bookmark": true,
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-overlapping-point",
									"objectClass": "System",
									"sid": 666948097838731,
									"parameters": {
										"object": "Drop",
										"x": "Player.X",
										"y": "Player.Y"
									}
								}
							],
							"actions": [
								{
									"customAction": "playSFX",
									"objectClass": "Audio",
									"sid": 369744139280662,
									"parameters": [
										"SFX_DropPickup",
										"0",
										"1"
									]
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Drop",
									"sid": 701635499251847,
									"parameters": {
										"instance-variable": "isCollected",
										"value": "YES"
									}
								},
								{
									"id": "destroy",
									"objectClass": "Drop",
									"sid": 975610977138803
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 801408382415971,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "StringSub(\"Drop pickup: {0} health, {1} experience\", Drop.healing, Drop.experience)"
									}
								},
								{
									"type": "comment",
									"text": "Player: collect experience (with bonus applied)"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 224969977370347,
									"parameters": {
										"instance-variable": "experience",
										"value": "Drop.experience > 0 ? Self.experience + round(Drop.experience * Rules.Get(KEY_Player & DOT & KEY_Bonus_Experience_Multiplier)) : Self.experience"
									}
								},
								{
									"type": "comment",
									"text": "Player: collect healing (with bonus applied)"
								},
								{
									"id": "set-value",
									"objectClass": "Rules",
									"sid": 195008119513535,
									"parameters": {
										"path": "KEY_Player & DOT & KEY_Health",
										"value": "min(Rules.Get(KEY_Player & DOT & KEY_Health) + Drop.healing * Rules.Get(KEY_Player & DOT & KEY_Bonus_Healing_Multiplier), Rules.Get(KEY_Player & DOT & KEY_Health_Max))"
									}
								}
							],
							"sid": 893054964726095
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Level up"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 196602343613844,
							"parameters": {
								"instance-variable": "experience",
								"comparison": 5,
								"value": "Rules.Get(KEY_Player & DOT & KEY_Experience_Target)"
							}
						}
					],
					"actions": [
						{
							"customAction": "playSFX",
							"objectClass": "Audio",
							"sid": 917474558896452,
							"parameters": [
								"SFX_LevelUp",
								"0",
								"1"
							]
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 515945957497019,
							"parameters": {
								"variable": "isLeveling",
								"value": "YES"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Player",
							"sid": 221051656413814,
							"parameters": {
								"instance-variable": "level",
								"value": "1"
							}
						},
						{
							"type": "comment",
							"text": "Update time scale of moving objects"
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 185234516291077,
							"parameters": {
								"object": "Drop",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 696855108900735,
							"parameters": {
								"object": "Enemy",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 240154764419903,
							"parameters": {
								"object": "Player",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 672119175847318,
							"parameters": {
								"object": "Weapon",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 197417321501456,
							"parameters": {
								"object": "UI_TextSF_DamageNumber",
								"time-scale": "0"
							}
						},
						{
							"type": "comment",
							"text": "Show & reset level up UI"
						},
						{
							"id": "set-default-color",
							"objectClass": "UI_Button9P_Upgrade",
							"sid": 862382384060389,
							"parameters": {
								"color": "C_Color_Brown"
							}
						},
						{
							"id": "stop-all-tweens",
							"objectClass": "UI_Border_LevelUp",
							"sid": 533770999747504,
							"behaviorType": "Tween"
						},
						{
							"id": "set-opacity",
							"objectClass": "UI_Border_LevelUp",
							"sid": 151538551897156,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "UI_Border_LevelUp",
							"sid": 855122626981925,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "UI_Border_LevelUp",
							"sid": 291321989748869,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "TWEEN_LevelUp_FadeIn",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "C_UI_LevelUp_Tween_Time",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_Button9P_Upgrade",
							"sid": 830593669059011,
							"parameters": {
								"instance-variable": "upgrade",
								"value": "EMPTY"
							}
						},
						{
							"id": "set-text",
							"objectClass": "UI_TextSF_Upgrade",
							"sid": 532471539928078,
							"parameters": {
								"text": "EMPTY"
							}
						},
						{
							"id": "set-size",
							"objectClass": "UpgradeOptions",
							"sid": 786662869535676,
							"parameters": {
								"width": "0",
								"height": "1",
								"depth": "1"
							}
						}
					],
					"sid": 222428401904073,
					"children": [
						{
							"eventType": "variable",
							"name": "upgradeCandidate",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 836788779224185
						},
						{
							"eventType": "comment",
							"text": "Generate upgrade options and show update level up UI"
						},
						{
							"eventType": "comment",
							"text": "This is an inelegant solution to the problem that we need multiple (ideally 3) unique upgrade options, which should be chosen based on their weight"
						},
						{
							"eventType": "comment",
							"text": "todo hide all upgrade buttons, only enable the ones which have a valid candidate"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 396368678140248,
									"parameters": {
										"count": "100"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 520864684137256,
									"parameters": {
										"instance-variable": "upgrade",
										"comparison": 0,
										"value": "EMPTY"
									}
								},
								{
									"id": "pick-highestlowest",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 162181787282881,
									"parameters": {
										"which": "lowest",
										"instance-variable": "option"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 728998628239513,
									"parameters": {
										"child": "UI_TextSF_Upgrade",
										"which": "own"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 358465600345835,
									"parameters": {
										"child": "Icon",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 882146791657174,
									"parameters": {
										"variable": "upgradeCandidate",
										"value": "AdvancedRandom.WeightedByName(PT_Upgrades)"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 833212594223381,
									"parameters": {
										"type": "log",
										"message": "\"upgrade candidate: \" & upgradeCandidate"
									}
								},
								{
									"type": "comment",
									"text": "If upgrade candidate not unique, clear it"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 787466613906827,
									"parameters": {
										"variable": "upgradeCandidate",
										"value": "UpgradeOptions.IndexOf(upgradeCandidate) = NOTHING ? upgradeCandidate : EMPTY"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 114035751771528,
									"parameters": {
										"type": "log",
										"message": "\"Update candidate after first validation: \" & upgradeCandidate"
									}
								},
								{
									"type": "comment",
									"text": "If upgrade candidate has an unsatisfied weapon requirement, clear it"
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 550155427069395,
									"parameters": {
										"type": "log",
										"message": "\"Weapon requirement for \" & upgradeCandidate & \": \" & Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_WeaponRequirement)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 714268585606491,
									"parameters": {
										"variable": "upgradeCandidate",
										"value": "Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_WeaponRequirement) = NO ? upgradeCandidate : (Rules.Get(KEY_Weapons & DOT & Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_WeaponRequirement) & DOT & KEY_Amount) > 0 ? upgradeCandidate : EMPTY)"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 108463257033813,
									"parameters": {
										"type": "log",
										"message": "\"Update candidate after second validation: \" & upgradeCandidate"
									}
								},
								{
									"type": "comment",
									"text": "Use upgrade candidate (if it's still a valid one)"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 672685898076604,
									"parameters": {
										"instance-variable": "upgrade",
										"value": "upgradeCandidate"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Icon",
									"sid": 439449580852157,
									"parameters": {
										"animation": "Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_Icon)",
										"from": "beginning"
									}
								},
								{
									"id": "set-text",
									"objectClass": "UI_TextSF_Upgrade",
									"sid": 585831293527480,
									"parameters": {
										"text": "(upgradeCandidate = EMPTY ? EMPTY : \"[scale=0.2]\" & Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_Label) & \"[/scale]\" & newline & Rules.Get(KEY_Upgrades & DOT & upgradeCandidate & DOT & KEY_Description))"
									}
								},
								{
									"id": "push",
									"objectClass": "UpgradeOptions",
									"sid": 313942423004106,
									"parameters": {
										"where": "back",
										"value": "upgradeCandidate",
										"axis": "x"
									}
								}
							],
							"sid": 733472237835046
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Take damage from enemies"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "PlayerHurtbox",
							"sid": 649766626643368,
							"parameters": {
								"object": "Enemy"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 279699643422993,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 756668298158005,
							"parameters": {
								"object": "Enemy"
							}
						}
					],
					"actions": [
						{
							"customAction": "playSFX",
							"objectClass": "Audio",
							"sid": 559557265402918,
							"parameters": [
								"SFX_PlayerDamaged",
								"3",
								"Enemy.damage > 0 ? 1 : 0"
							]
						},
						{
							"type": "comment",
							"text": "Decrease player health"
						},
						{
							"id": "set-value",
							"objectClass": "Rules",
							"sid": 690662732743411,
							"parameters": {
								"path": "KEY_Player & DOT & KEY_Health",
								"value": "max(0, Rules.Get(KEY_Player & DOT & KEY_Health) - Enemy.damage * dt)"
							}
						},
						{
							"type": "comment",
							"text": "Set player to hurting (for vignette UI effect)"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 388171655154242,
							"parameters": {
								"instance-variable": "isHurt",
								"value": "Enemy.damage > 0 ? YES : NO"
							}
						}
					],
					"sid": 213451265694389
				},
				{
					"eventType": "comment",
					"text": "Kill player if they are out of health"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 438692348991556,
							"parameters": {
								"path": "KEY_Player & DOT & KEY_Health",
								"cmp": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"customAction": "playSFX",
							"objectClass": "Audio",
							"sid": 867180006094448,
							"parameters": [
								"SFX_PlayerDead",
								"0",
								"1"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 242879650947707,
							"parameters": {
								"instance-variable": "isDead",
								"value": "YES"
							}
						},
						{
							"type": "comment",
							"text": "Show game over text"
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 979372111917261,
							"parameters": {
								"object-to-create": "UI_TextSF_GameOver",
								"layer": "LAYER_UI",
								"x": "ViewportMidX(LAYER_UI)",
								"y": "ViewportMidY(LAYER_UI)",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"type": "comment",
							"text": "Stop animation"
						},
						{
							"id": "stop-animation",
							"objectClass": "Player",
							"sid": 207226070526332
						},
						{
							"type": "comment",
							"text": "Slow down moving drops"
						},
						{
							"id": "set-acceleration",
							"objectClass": "Drop",
							"sid": 383188207661019,
							"behaviorType": "Bullet",
							"parameters": {
								"acceleration": "-Self.Bullet.Speed * 0.5"
							}
						},
						{
							"type": "comment",
							"text": "Disable player movement"
						},
						{
							"id": "set-enabled",
							"objectClass": "Player",
							"sid": 574219236840102,
							"behaviorType": "8Direction",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"type": "comment",
							"text": "Disable player-physics (don't keep pushing away enemies)"
						},
						{
							"id": "set-enabled",
							"objectClass": "Player",
							"sid": 783248802365482,
							"behaviorType": "Physics",
							"parameters": {
								"mode": "disabled"
							}
						},
						{
							"type": "comment",
							"text": "Flash player"
						},
						{
							"id": "set-default-color",
							"objectClass": "Player",
							"sid": 422307302001334,
							"parameters": {
								"color": "rgbEx(500, 500, 500)"
							}
						},
						{
							"type": "comment",
							"text": "Fade out player"
						},
						{
							"id": "tween-one-property",
							"objectClass": "Player",
							"sid": 520423819540252,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "3",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 960843257670359
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "onSelectUpgrade",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "option",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 797014957186007
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 899906407548923,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "YES"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 498497197667409,
					"parameters": {
						"variable": "isPaused",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "is-any-playing",
					"objectClass": "UI_Border_LevelUp",
					"sid": 183777275047325,
					"behaviorType": "Tween",
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "UI_Button9P_Upgrade",
					"sid": 464416607872974,
					"parameters": {
						"instance-variable": "option",
						"comparison": 0,
						"value": "option"
					}
				},
				{
					"id": "pick-children",
					"objectClass": "UI_Button9P_Upgrade",
					"sid": 123743708511942,
					"parameters": {
						"child": "UI_TextSF_Upgrade",
						"which": "own"
					}
				},
				{
					"id": "compare-text",
					"objectClass": "UI_TextSF_Upgrade",
					"sid": 111540531222433,
					"parameters": {
						"text-to-compare": "EMPTY",
						"case-sensitivity": "ignore-case"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"customAction": "playSFX",
					"objectClass": "Audio",
					"sid": 584988801382287,
					"parameters": [
						"SFX_UpgradeSelected",
						"0",
						"1"
					]
				},
				{
					"type": "comment",
					"text": "Highlight selected upgrade button"
				},
				{
					"id": "set-default-color",
					"objectClass": "UI_Button9P_Upgrade",
					"sid": 553291891492677,
					"parameters": {
						"color": "C_Color_Green"
					}
				},
				{
					"type": "comment",
					"text": "Spend experience"
				},
				{
					"id": "subtract-from-instvar",
					"objectClass": "Player",
					"sid": 164427102917643,
					"parameters": {
						"instance-variable": "experience",
						"value": "Rules.Get(KEY_Player & DOT & KEY_Experience_Target)"
					}
				},
				{
					"type": "comment",
					"text": "Tween out level up UI"
				},
				{
					"id": "tween-one-property",
					"objectClass": "UI_Border_LevelUp",
					"sid": 837566822749427,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "TWEEN_LevelUp_FadeOut",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "1",
						"ease": "easeinexpo",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 777887322997353
				},
				{
					"id": "set-visible",
					"objectClass": "UI_Border_LevelUp",
					"sid": 787808226938946,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 426153536588302,
					"parameters": {
						"variable": "isLeveling",
						"value": "NO"
					}
				},
				{
					"type": "comment",
					"text": "Increase target experience"
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 215433469077875,
					"parameters": {
						"path": "KEY_Player & DOT & KEY_Experience_Target",
						"value": "round(Rules.Get(KEY_Player & DOT & KEY_Experience_Target) * Rules.Get(KEY_Player & DOT & KEY_Experience_Target_Multiplier))"
					}
				},
				{
					"type": "comment",
					"text": "Apply selected upgrade"
				},
				{
					"customAction": "applyUpgrade",
					"objectClass": "Player",
					"sid": 450428395935593,
					"parameters": [
						"UI_Button9P_Upgrade.upgrade"
					]
				},
				{
					"type": "comment",
					"text": "Resume game"
				},
				{
					"id": "restore-object-time-scale",
					"objectClass": "System",
					"sid": 222614948091389,
					"parameters": {
						"object": "Player"
					}
				},
				{
					"id": "restore-object-time-scale",
					"objectClass": "System",
					"sid": 809025054578776,
					"parameters": {
						"object": "Drop"
					}
				},
				{
					"id": "restore-object-time-scale",
					"objectClass": "System",
					"sid": 928378655102511,
					"parameters": {
						"object": "Weapon"
					}
				},
				{
					"id": "restore-object-time-scale",
					"objectClass": "System",
					"sid": 524246590112507,
					"parameters": {
						"object": "Enemy"
					}
				},
				{
					"id": "restore-object-time-scale",
					"objectClass": "System",
					"sid": 420789680602969,
					"parameters": {
						"object": "UI_TextSF_DamageNumber"
					}
				}
			],
			"sid": 134088445000097
		},
		{
			"aceType": "action",
			"aceName": "applyUpgrade",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "upgrade",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 323013347631822
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"customAction": "playSFX",
					"objectClass": "Audio",
					"sid": 934419269839959,
					"parameters": [
						"SFX_UpgradeApplied",
						"0",
						"1"
					]
				},
				{
					"type": "comment",
					"text": "Apply upgrade (multiply)"
				},
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 273124568448496,
					"parameters": {
						"type": "log",
						"message": "\"Applying upgrade: \" & upgrade"
					}
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 438822248656384,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)) * Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Multiply)"
					}
				},
				{
					"type": "comment",
					"text": "Apply upgrade (add)"
				},
				{
					"id": "add-to",
					"objectClass": "Rules",
					"sid": 781287846172329,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Add)"
					}
				},
				{
					"type": "comment",
					"text": "Apply upgrade (max)"
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 999042333458569,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Max) = 0 ? Rules.Get(Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)) : min(Rules.Get(Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Value)), Rules.Get(Rules.Get(KEY_Upgrades & DOT & upgrade & DOT & KEY_Rule_Max)))"
					}
				},
				{
					"type": "comment",
					"text": "Update player properties"
				},
				{
					"id": "set-max-speed",
					"objectClass": "Player",
					"sid": 764744182789778,
					"behaviorType": "8Direction",
					"parameters": {
						"max-speed": "Rules.Get(KEY_Player & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"id": "set-acceleration",
					"objectClass": "Player",
					"sid": 300033388980964,
					"behaviorType": "8Direction",
					"parameters": {
						"acceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementAcceleration)"
					}
				},
				{
					"id": "set-deceleration",
					"objectClass": "Player",
					"sid": 414761694337799,
					"behaviorType": "8Direction",
					"parameters": {
						"deceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementDeceleration)"
					}
				}
			],
			"sid": 266788838218702
		}
	],
	"sid": 562729237747902
}