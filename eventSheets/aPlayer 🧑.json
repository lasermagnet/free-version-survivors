{
	"name": "aPlayer ðŸ§‘",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 901945052113015,
					"parameters": {
						"object-to-create": "Player",
						"layer": "LAYER_Main",
						"x": "LayoutWidth * 0.5",
						"y": "LayoutHeight * 0.5",
						"create-hierarchy": true,
						"template-name": "\"\""
					}
				},
				{
					"type": "comment",
					"text": "Initialize player behaviours"
				},
				{
					"id": "set-max-speed",
					"objectClass": "Player",
					"sid": 316291171629907,
					"behaviorType": "8Direction",
					"parameters": {
						"max-speed": "Rules.Get(KEY_Player & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"id": "set-acceleration",
					"objectClass": "Player",
					"sid": 221202146104270,
					"behaviorType": "8Direction",
					"parameters": {
						"acceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementAcceleration)"
					}
				},
				{
					"id": "set-deceleration",
					"objectClass": "Player",
					"sid": 993068735412028,
					"behaviorType": "8Direction",
					"parameters": {
						"deceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementDeceleration)"
					}
				},
				{
					"type": "comment",
					"text": "Initialize player IVs"
				},
				{
					"type": "comment",
					"text": "todo remove these IVs and keep data in Rules"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 780833186605289,
					"parameters": {
						"instance-variable": "cooldown_weapon_sword",
						"value": "Rules.Get(KEY_Weapons & DOT & WEAPON_Sword_todoRemove & DOT & KEY_Cooldown)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 783049380182159,
					"parameters": {
						"instance-variable": "cooldown_spawn_item",
						"value": "Rules.Get(KEY_Wave & DOT & KEY_Items & DOT & KEY_Cooldown)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 177029972898140,
					"parameters": {
						"instance-variable": "cooldown_spawn_enemy",
						"value": "Rules.Get(KEY_Wave & DOT & KEY_Enemies & DOT & KEY_Cooldown)"
					}
				}
			],
			"sid": 821905210614926
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 198184957131593,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Player",
					"sid": 608216906352595,
					"parameters": {
						"instance-variable": "isDead",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Update cooldowns"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 678410323692335,
					"parameters": {
						"instance-variable": "cooldown_weapon_sword",
						"value": "Self.cooldown_weapon_sword = NOTHING ? NOTHING : max(0, Self.cooldown_weapon_sword - dt)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 786724687286705,
					"parameters": {
						"instance-variable": "cooldown_spawn_item",
						"value": "Self.cooldown_spawn_item = NOTHING ? NOTHING : max(0, Self.cooldown_spawn_item - dt)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 880923047439531,
					"parameters": {
						"instance-variable": "cooldown_spawn_enemy",
						"value": "Self.cooldown_spawn_enemy = NOTHING ? NOTHING : max(0, Self.cooldown_spawn_enemy - dt)"
					}
				}
			],
			"sid": 892639912846222,
			"children": [
				{
					"eventType": "comment",
					"text": "Attack: Sword"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 202899305705582,
							"parameters": {
								"path": "KEY_Weapons & DOT & WEAPON_Sword_todoRemove & DOT & KEY_Level",
								"cmp": 4,
								"value": "0"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 180896289172722,
							"parameters": {
								"instance-variable": "cooldown_weapon_sword",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 102200767806325,
							"parameters": {
								"instance-variable": "cooldown_weapon_sword",
								"value": "Rules.Get(KEY_Weapons & DOT & WEAPON_Sword_todoRemove & DOT & KEY_Cooldown)"
							}
						}
					],
					"sid": 135052668909848,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 831146062287362,
									"parameters": {
										"name": "\"\"",
										"start-index": "1",
										"end-index": "Rules.Get(KEY_Weapons & DOT & WEAPON_Sword_todoRemove & DOT & KEY_Level)"
									}
								}
							],
							"actions": [
								{
									"customAction": "spawn",
									"objectClass": "Projectile",
									"sid": 815504127971766,
									"parameters": [
										"Player.lastMovingAngle + (360 / Rules.Get(KEY_Weapons & DOT & WEAPON_Sword_todoRemove & DOT & KEY_Level) * loopindex)",
										"WEAPON_Sword_todoRemove"
									]
								}
							],
							"sid": 862025105194662
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Spawn item"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 195966855546266,
							"parameters": {
								"instance-variable": "cooldown_spawn_item",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 554032964253695,
							"parameters": {
								"instance-variable": "cooldown_spawn_item",
								"value": "Rules.Get(KEY_Wave & DOT & KEY_Items & DOT & KEY_Cooldown)"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 313628640848420,
							"parameters": {
								"object-to-create": "Weapon",
								"layer": "LAYER_Main",
								"x": "Player.X + cos(angle(Player.X, Player.Y, LayoutWidth * 0.5, LayoutHeight * 0.5)) * random(C_Item_Spawn_Distance_Min, C_Item_Spawn_Distance_Max)",
								"y": "Player.Y + sin(angle(Player.X, Player.Y, LayoutWidth * 0.5, LayoutHeight * 0.5)) * random(C_Item_Spawn_Distance_Min, C_Item_Spawn_Distance_Max)",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"type": "comment",
							"text": "Start tween to fade out item before next spawn"
						},
						{
							"id": "tween-one-property",
							"objectClass": "Weapon",
							"sid": 253088102355691,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "Rules.Get(KEY_Wave & DOT & KEY_Items & DOT & KEY_Cooldown)",
								"ease": "easeinexpo",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "Player",
							"sid": 176612895163338
						}
					],
					"sid": 129191214035208,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "Queue enemy spawn"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 329208908358969,
							"parameters": {
								"instance-variable": "cooldown_spawn_enemy",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 575116398767069,
							"parameters": {
								"instance-variable": "cooldown_spawn_enemy",
								"value": "Rules.Get(KEY_Wave & DOT & KEY_Enemies & DOT & KEY_Cooldown)"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Player",
							"sid": 612564162008655,
							"parameters": {
								"instance-variable": "queue_spawn_enemy",
								"value": "Rules.Get(KEY_Wave & DOT & KEY_Enemies & DOT & KEY_Amount)"
							}
						}
					],
					"sid": 884938568296906
				},
				{
					"eventType": "comment",
					"text": "Pick up item"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Player",
							"sid": 229852428941040,
							"parameters": {
								"object": "Weapon"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Weapon",
							"sid": 792888105578515,
							"parameters": {
								"instance-variable": "isPickedUp",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 460470911981716,
							"parameters": {
								"type": "log",
								"message": "\"Picked up item: \" & Weapon.AnimationFrameTag"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Weapon",
							"sid": 924526291743139,
							"parameters": {
								"instance-variable": "isPickedUp",
								"value": "YES"
							}
						},
						{
							"id": "add-to",
							"objectClass": "Rules",
							"sid": 959073039623894,
							"parameters": {
								"path": "KEY_Weapons & DOT & Weapon.AnimationFrameTag & DOT & KEY_Level",
								"value": "1"
							}
						},
						{
							"id": "set-default-color",
							"objectClass": "Weapon",
							"sid": 484277913474189,
							"parameters": {
								"color": "rgbEx(500, 500, 500)"
							}
						},
						{
							"id": "stop-all-tweens",
							"objectClass": "Weapon",
							"sid": 207101199220881,
							"behaviorType": "Tween"
						},
						{
							"id": "set-opacity",
							"objectClass": "Weapon",
							"sid": 722870505118830,
							"parameters": {
								"opacity": "100"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Weapon",
							"sid": 865811529008529,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "1",
								"ease": "easeoutexpo",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 303362420858496
				},
				{
					"eventType": "comment",
					"text": "Level up"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 196602343613844,
							"parameters": {
								"instance-variable": "experience",
								"comparison": 5,
								"value": "Rules.Get(KEY_Player & DOT & KEY_Experience_Target)"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 515945957497019,
							"parameters": {
								"variable": "isLeveling",
								"value": "YES"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 185234516291077,
							"parameters": {
								"object": "Drop",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 696855108900735,
							"parameters": {
								"object": "Enemy",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 240154764419903,
							"parameters": {
								"object": "Player",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 672119175847318,
							"parameters": {
								"object": "Projectile",
								"time-scale": "0"
							}
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 197417321501456,
							"parameters": {
								"object": "UI_TextSF_DamageNumber",
								"time-scale": "0"
							}
						},
						{
							"id": "stop-all-tweens",
							"objectClass": "UI_Border_LevelUp",
							"sid": 533770999747504,
							"behaviorType": "Tween"
						},
						{
							"id": "set-opacity",
							"objectClass": "UI_Border_LevelUp",
							"sid": 151538551897156,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "UI_Border_LevelUp",
							"sid": 855122626981925,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "UI_Border_LevelUp",
							"sid": 291321989748869,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "TWEEN_LevelUp_FadeIn",
								"property": "offsetOpacity",
								"end-value": "100",
								"time": "C_UI_LevelUp_Tween_Time",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_Button9P_Upgrade",
							"sid": 830593669059011,
							"parameters": {
								"instance-variable": "upgrade",
								"value": "EMPTY"
							}
						},
						{
							"id": "set-text",
							"objectClass": "UI_TextSF_Upgrade",
							"sid": 532471539928078,
							"parameters": {
								"text": "EMPTY"
							}
						},
						{
							"id": "set-size",
							"objectClass": "UpgradeOptions",
							"sid": 786662869535676,
							"parameters": {
								"width": "0",
								"height": "1",
								"depth": "1"
							}
						}
					],
					"sid": 222428401904073,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedUpgrade",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 836788779224185
						},
						{
							"eventType": "comment",
							"text": "This is not the most elegant solution to the problem that we have multiple (ideally 3) unique upgrade options, which should be chosen based on their weight"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 396368678140248,
									"parameters": {
										"count": "100"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 520864684137256,
									"parameters": {
										"instance-variable": "upgrade",
										"comparison": 0,
										"value": "EMPTY"
									}
								},
								{
									"id": "pick-highestlowest",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 162181787282881,
									"parameters": {
										"which": "lowest",
										"instance-variable": "option"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 728998628239513,
									"parameters": {
										"child": "UI_TextSF_Upgrade",
										"which": "own"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 358465600345835,
									"parameters": {
										"child": "UI_Icon",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 882146791657174,
									"parameters": {
										"variable": "selectedUpgrade",
										"value": "AdvancedRandom.WeightedByName(PT_Upgrades)"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 318948125872464,
									"parameters": {
										"type": "log",
										"message": "\"upgrade choice step: \" & selectedUpgrade"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_Button9P_Upgrade",
									"sid": 146361965504858,
									"parameters": {
										"instance-variable": "upgrade",
										"value": "UpgradeOptions.IndexOf(selectedUpgrade) = NOTHING ? selectedUpgrade : EMPTY"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "UI_Icon",
									"sid": 871116676435623,
									"parameters": {
										"animation": "Rules.Get(KEY_Upgrades & DOT & selectedUpgrade & DOT & KEY_Icon)",
										"from": "beginning"
									}
								},
								{
									"id": "set-text",
									"objectClass": "UI_TextSF_Upgrade",
									"sid": 775551355581062,
									"parameters": {
										"text": "(UI_Button9P_Upgrade.upgrade = EMPTY ? EMPTY : Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Label)) & newline &\n(\nRules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Multiply) = 1 ? EMPTY : \"+ \" & (Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Multiply) - 1) * 100 & \"%\" & SPACE\n) &\n(\nRules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Add) = 0 ? EMPTY : (Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Add) < 0 ? \"- \" : \"+ \") & abs(Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Add))\n)"
									}
								},
								{
									"id": "push",
									"objectClass": "UpgradeOptions",
									"sid": 313942423004106,
									"parameters": {
										"where": "back",
										"value": "selectedUpgrade",
										"axis": "x"
									}
								}
							],
							"sid": 733472237835046
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Take damage from enemies"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Player",
							"sid": 643754501194321,
							"parameters": {
								"object": "Enemy"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 279699643422993,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [
						{
							"id": "set-value",
							"objectClass": "Rules",
							"sid": 690662732743411,
							"parameters": {
								"path": "KEY_Player & DOT & KEY_Health",
								"value": "max(0, Rules.Get(KEY_Player & DOT & KEY_Health) - Enemy.damage * dt)"
							}
						}
					],
					"sid": 213451265694389
				},
				{
					"eventType": "comment",
					"text": "Dying"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 438692348991556,
							"parameters": {
								"path": "KEY_Player & DOT & KEY_Health",
								"cmp": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "todo feedback / game over screen, etc"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 242879650947707,
							"parameters": {
								"instance-variable": "isDead",
								"value": "YES"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Player",
							"sid": 574219236840102,
							"behaviorType": "8Direction",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Player",
							"sid": 269555740685749,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "1",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 960843257670359
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "selectUpgrade",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "option",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 797014957186007
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 899906407548923,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "YES"
					}
				},
				{
					"id": "is-any-playing",
					"objectClass": "UI_Border_LevelUp",
					"sid": 183777275047325,
					"behaviorType": "Tween",
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "UI_Button9P_Upgrade",
					"sid": 464416607872974,
					"parameters": {
						"instance-variable": "option",
						"comparison": 0,
						"value": "option"
					}
				},
				{
					"id": "pick-children",
					"objectClass": "UI_Button9P_Upgrade",
					"sid": 123743708511942,
					"parameters": {
						"child": "UI_TextSF_Upgrade",
						"which": "own"
					}
				},
				{
					"id": "compare-text",
					"objectClass": "UI_TextSF_Upgrade",
					"sid": 111540531222433,
					"parameters": {
						"text-to-compare": "EMPTY",
						"case-sensitivity": "ignore-case"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Spend experience"
				},
				{
					"id": "subtract-from-instvar",
					"objectClass": "Player",
					"sid": 164427102917643,
					"parameters": {
						"instance-variable": "experience",
						"value": "Rules.Get(KEY_Player & DOT & KEY_Experience_Target)"
					}
				},
				{
					"type": "comment",
					"text": "Tween out level upUI"
				},
				{
					"id": "tween-one-property",
					"objectClass": "UI_Border_LevelUp",
					"sid": 411269398563607,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "TWEEN_LevelUp_FadeOut",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "1",
						"ease": "easeoutquint",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 777887322997353
				},
				{
					"id": "set-visible",
					"objectClass": "UI_Border_LevelUp",
					"sid": 787808226938946,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 426153536588302,
					"parameters": {
						"variable": "isLeveling",
						"value": "NO"
					}
				},
				{
					"type": "comment",
					"text": "Increase target experience"
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 215433469077875,
					"parameters": {
						"path": "KEY_Player & DOT & KEY_Experience_Target",
						"value": "round(Rules.Get(KEY_Player & DOT & KEY_Experience_Target) * Rules.Get(KEY_Player & DOT & KEY_Experience_Target_Multiplier))"
					}
				},
				{
					"type": "comment",
					"text": "Apply upgrade (multiply)"
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 626059529650984,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)) * Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Multiply)"
					}
				},
				{
					"type": "comment",
					"text": "Apply upgrade (add)"
				},
				{
					"id": "add-to",
					"objectClass": "Rules",
					"sid": 670440074217041,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Add)"
					}
				},
				{
					"type": "comment",
					"text": "Apply upgrade (max)"
				},
				{
					"id": "set-value",
					"objectClass": "Rules",
					"sid": 570815074518229,
					"parameters": {
						"path": "Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)",
						"value": "Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Max) = 0 ? Rules.Get(Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)) : min(Rules.Get(Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Value)), Rules.Get(Rules.Get(KEY_Upgrades & DOT & UI_Button9P_Upgrade.upgrade & DOT & KEY_Rule_Max)))"
					}
				},
				{
					"type": "comment",
					"text": "Update player properties"
				},
				{
					"id": "set-max-speed",
					"objectClass": "Player",
					"sid": 764744182789778,
					"behaviorType": "8Direction",
					"parameters": {
						"max-speed": "Rules.Get(KEY_Player & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"id": "set-acceleration",
					"objectClass": "Player",
					"sid": 300033388980964,
					"behaviorType": "8Direction",
					"parameters": {
						"acceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementAcceleration)"
					}
				},
				{
					"id": "set-deceleration",
					"objectClass": "Player",
					"sid": 414761694337799,
					"behaviorType": "8Direction",
					"parameters": {
						"deceleration": "Rules.Get(KEY_Player & DOT & KEY_MovementDeceleration)"
					}
				},
				{
					"type": "comment",
					"text": "Resume game"
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 163372637783556,
					"parameters": {
						"object": "Drop",
						"time-scale": "1"
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 374930440088694,
					"parameters": {
						"object": "Enemy",
						"time-scale": "1"
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 581517427302123,
					"parameters": {
						"object": "Player",
						"time-scale": "1"
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 232002924512385,
					"parameters": {
						"object": "Projectile",
						"time-scale": "1"
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 222741729041849,
					"parameters": {
						"object": "UI_TextSF_DamageNumber",
						"time-scale": "1"
					}
				}
			],
			"sid": 134088445000097
		}
	],
	"sid": 562729237747902
}