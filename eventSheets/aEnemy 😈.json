{
	"name": "aEnemy ðŸ˜ˆ",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Enemy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "enemy",
					"type": "string",
					"initialValue": "",
					"comment": "If not specified, it will be chosen randomly from the pool",
					"sid": 500842434014901
				},
				{
					"name": "amount",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"sid": 244649095207517
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "repeat",
					"objectClass": "System",
					"sid": 151864700105649,
					"parameters": {
						"count": "amount"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Spawn an enemy; if enemy type was not specified, choose one randomly from the queue"
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 312023686957999,
					"parameters": {
						"variable": "enemy",
						"value": "enemy = EMPTY ? AdvancedRandom.WeightedByName(PT_Enemies) : enemy"
					}
				},
				{
					"type": "comment",
					"text": "Choose a random angle"
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 361829937226822,
					"parameters": {
						"variable": "randomAngle",
						"value": "random(0, 360)"
					}
				},
				{
					"type": "comment",
					"text": "Spawn enemy object"
				},
				{
					"type": "comment",
					"text": "todo make sure enemies don't spawn outside the \"ground\" or at least teleport non-moving enemies somewhere on the ground, ideally out of sight"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 696672729878055,
					"parameters": {
						"object-to-create": "Enemy",
						"layer": "LAYER_Main",
						"x": "Player.X + cos(randomAngle) * Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_EnemySpawn)",
						"y": "Player.Y + sin(randomAngle) * Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_EnemySpawn)",
						"create-hierarchy": true,
						"template-name": "\"\""
					}
				},
				{
					"type": "comment",
					"text": "Set animation (matches enemy type)"
				},
				{
					"id": "set-animation",
					"objectClass": "Enemy",
					"sid": 188461980292847,
					"parameters": {
						"animation": "enemy",
						"from": "beginning"
					}
				},
				{
					"type": "comment",
					"text": "Initialize enemy IVs"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 451469773109217,
					"parameters": {
						"instance-variable": "health",
						"value": "Rules.Get(KEY_Enemies & DOT & enemy & DOT & KEY_Health)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 411011654021404,
					"parameters": {
						"instance-variable": "damage",
						"value": "Rules.Get(KEY_Enemies & DOT & enemy & DOT & KEY_Damage)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 782234367946509,
					"parameters": {
						"instance-variable": "experience",
						"value": "Rules.Get(KEY_Enemies & DOT & enemy & DOT & KEY_Experience)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 860698036664817,
					"parameters": {
						"instance-variable": "healing",
						"value": "Rules.Get(KEY_Enemies & DOT & enemy & DOT & KEY_Healing)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 355875597487192,
					"parameters": {
						"instance-variable": "movementSpeed",
						"value": "Rules.Get(KEY_Enemies & DOT & enemy & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"id": "set-immovable",
					"objectClass": "Enemy",
					"sid": 495389953480134,
					"behaviorType": "Physics",
					"parameters": {
						"setting": "immovable"
					}
				}
			],
			"sid": 418646961252127
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Enemy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 759310124208695,
					"parameters": {
						"variable": "isLeveling",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Enemy",
					"sid": 169438741384102,
					"parameters": {
						"instance-variable": "isDead",
						"comparison": 0,
						"value": "NO"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 356892487029801,
					"parameters": {
						"variable": "isPaused",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Reset \"movement blocked\" state for moving enemies"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemy",
					"sid": 965283521473552,
					"parameters": {
						"instance-variable": "isMovementBlocked",
						"value": "Self.movementSpeed = 0 ? YES : NO"
					}
				},
				{
					"type": "comment",
					"text": "Flash / unflash enemy according to the \"flash on\" timer"
				},
				{
					"id": "set-default-color",
					"objectClass": "Enemy",
					"sid": 360507637327988,
					"parameters": {
						"color": "Self.Timer.CurrentTime(TIMER_FlashOn) > 0 ? rgbEx(500, 500, 500): rgbEx(100, 100, 100)"
					}
				},
				{
					"type": "comment",
					"text": "Mirror enemies based on their position relative to the player"
				},
				{
					"id": "set-width",
					"objectClass": "Enemy",
					"sid": 391161352384051,
					"parameters": {
						"width": "Self.X < Player.X - 5 ?\nabs(Self.Width) :\n(\n  Self.X > Player.X + 5 ?\n  -abs(Self.Width) :\n  Self.Width\n)"
					}
				}
			],
			"sid": 323244324797060,
			"children": [
				{
					"eventType": "comment",
					"text": "Teleport far away [moving] enemies near the player"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 106585432721594,
							"parameters": {
								"instance-variable": "movementSpeed",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 439465885983319,
							"parameters": {
								"object": "Enemy",
								"expression": "distance(Player.X, Player.Y, Enemy.X, Enemy.Y)",
								"comparison": 4,
								"value": "Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_EnemyTeleport)"
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 929165353494252,
							"parameters": {
								"object": "Enemy"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 262331466998579,
							"parameters": {
								"variable": "randomAngle",
								"value": "random(0, 360)"
							}
						},
						{
							"id": "teleport",
							"objectClass": "Enemy",
							"sid": 346029354180080,
							"behaviorType": "Physics",
							"parameters": {
								"x": "Player.X + cos(randomAngle) * Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_EnemySpawn)",
								"y": "Player.Y + sin(randomAngle) * Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_EnemySpawn)"
							}
						}
					],
					"sid": 494746008157198
				},
				{
					"eventType": "comment",
					"text": "Enemy getting damaged"
				},
				{
					"eventType": "comment",
					"text": "todo rework damage stuff, maybe use one-off damage type & dt based type too?"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Enemy",
							"sid": 807314407853475,
							"parameters": {
								"object": "Weapon"
							}
						},
						{
							"id": "is-on-screen",
							"objectClass": "Weapon",
							"sid": 250565518753538
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Weapon",
							"sid": 682851023232220,
							"parameters": {
								"instance-variable": "isDestroyed",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 542889553905847,
							"parameters": {
								"object": "Weapon"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "If weapon is a movement blocker and enemy is a moving one, block its movement (temporarily)"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Enemy",
							"sid": 927528857589538,
							"parameters": {
								"instance-variable": "isMovementBlocked",
								"value": "Self.movementSpeed = 0 ? YES : Weapon.isMovementBlocker"
							}
						},
						{
							"type": "comment",
							"text": "Damage enemy"
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "Enemy",
							"sid": 953437095812154,
							"parameters": {
								"instance-variable": "health",
								"value": "Weapon.damage * dt * Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Damage_Multiplier)"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Enemy",
							"sid": 339039127435682,
							"parameters": {
								"instance-variable": "damageTakenRecently",
								"value": "Weapon.damage * dt * Rules.Get(KEY_Player & DOT & KEY_Bonus_Weapon_Damage_Multiplier)"
							}
						},
						{
							"type": "comment",
							"text": "Start damage flash on & off timers if they are not running yet"
						},
						{
							"id": "start-timer",
							"objectClass": "Enemy",
							"sid": 186375863490088,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "C_Damage_Flash_Interval",
								"type": "once",
								"tag": "Self.Timer.CurrentTime(TIMER_FlashOn) = 0 &\nSelf.Timer.CurrentTime(TIMER_FlashOff) = 0\n? TIMER_FlashOn : EMPTY"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Enemy",
							"sid": 645487316551288,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "C_Damage_Flash_Interval * 2",
								"type": "once",
								"tag": "Self.Timer.CurrentTime(TIMER_FlashOn) > 0 &\nSelf.Timer.CurrentTime(TIMER_FlashOff) = 0\n? TIMER_FlashOff : EMPTY"
							}
						},
						{
							"type": "comment",
							"text": "If projectile pierced a new enemy, add it to the list"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Weapon",
							"sid": 589144911077692,
							"parameters": {
								"instance-variable": "piercedUIDs_SSV",
								"value": "find(SPACE & Self.piercedUIDs_SSV & SPACE, str(Enemy.UID)) = NOTHING ? Self.piercedUIDs_SSV & SPACE & Enemy.UID : Self.piercedUIDs_SSV"
							}
						}
					],
					"sid": 465104577973746,
					"children": [
						{
							"eventType": "comment",
							"text": "todo_fix foreach weapons so all of them deal damage to the enemy"
						},
						{
							"eventType": "comment",
							"text": "Check projectile piercing limit & destroy projectile if reached"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 995038679006034,
									"parameters": {
										"object": "Weapon",
										"expression": "tokencount(trim(Weapon.piercedUIDs_SSV), SPACE)",
										"comparison": 5,
										"value": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_PierceLimit)"
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 988057123335795,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "\"Projectile #\" & Weapon.UID & \" has pierced \" & tokencount(trim(Weapon.piercedUIDs_SSV), SPACE) & \" enemies, destroying.\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Weapon",
									"sid": 151100235435201,
									"parameters": {
										"instance-variable": "isDestroyed",
										"value": "YES"
									}
								},
								{
									"type": "comment",
									"text": "Stop weapon"
								},
								{
									"id": "set-speed",
									"objectClass": "Weapon",
									"sid": 125895672334683,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "0"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Weapon",
									"sid": 707124144412964,
									"behaviorType": "Bullet",
									"parameters": {
										"speed": "0"
									}
								},
								{
									"type": "comment",
									"text": "Flash & fade out weapon"
								},
								{
									"id": "set-default-color",
									"objectClass": "Weapon",
									"sid": 978441568313677,
									"parameters": {
										"color": "rgbEx(500, 500, 500)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Weapon",
									"sid": 803814591045713,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetOpacity",
										"end-value": "0",
										"time": "0.5",
										"ease": "easeoutquint",
										"destroy-on-complete": "yes",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 728908823243223
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If enemy received at least 1 damage and there's no damage number spawned, spawn a damage number"
				},
				{
					"eventType": "comment",
					"text": "todo rework damage number stuff so it updates"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 473101626486301,
							"parameters": {
								"instance-variable": "damageTakenRecently",
								"comparison": 5,
								"value": "1"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Enemy",
							"sid": 811884615212423,
							"parameters": {
								"child": "UI_TextSF_Damage",
								"which": "own"
							}
						},
						{
							"id": "compare-text",
							"objectClass": "UI_TextSF_Damage",
							"sid": 298634100197920,
							"parameters": {
								"text-to-compare": "str(round(Enemy.damageTakenRecently))",
								"case-sensitivity": "ignore-case"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "todo keep updating existing damage numbers after enemy takes more damage"
						},
						{
							"customAction": "playSFX",
							"objectClass": "Audio",
							"sid": 215625060781360,
							"parameters": [
								"SFX_EnemyDamaged",
								"3",
								"1"
							]
						},
						{
							"id": "stop-all-tweens",
							"objectClass": "UI_TextSF_Damage",
							"sid": 261850147716654,
							"behaviorType": "Tween"
						},
						{
							"id": "set-position",
							"objectClass": "UI_TextSF_Damage",
							"sid": 471929799839871,
							"parameters": {
								"x": "Enemy.X",
								"y": "Enemy.Y"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "UI_TextSF_Damage",
							"sid": 374485917684913,
							"parameters": {
								"opacity": "100"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "UI_TextSF_Damage",
							"sid": 280540920032560,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "position",
								"end-x": "Self.X + cos(angle(0, 0, Enemy.Physics.VelocityX, Enemy.Physics.VelocityY) + 180) * C_UI_DamageNumber_TweenDistance",
								"end-y": "Self.Y + sin(angle(0, 0, Enemy.Physics.VelocityX, Enemy.Physics.VelocityY) + 180) * C_UI_DamageNumber_TweenDistance",
								"time": "C_UI_DamageNumber_Lifetime",
								"ease": "easeoutcubic",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "UI_TextSF_Damage",
							"sid": 324809708969108,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "C_UI_DamageNumber_Lifetime",
								"ease": "easeinexpo",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "UI_TextSF_Damage",
							"sid": 887333999764376,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-text",
							"objectClass": "UI_TextSF_Damage",
							"sid": 509498912291650,
							"parameters": {
								"text": "round(Enemy.damageTakenRecently)"
							}
						},
						{
							"id": "set-default-color",
							"objectClass": "UI_TextSF_Damage",
							"sid": 385659036234260,
							"parameters": {
								"color": "int(tokenat(C_UI_DamageNumber_Colors_SSV, min(tokencount(C_UI_DamageNumber_Colors_SSV, SPACE) - 1, int(Enemy.damageTakenRecently / Rules.Get(KEY_Level & DOT & KEY_Dividers & DOT & KEY_DamageToColor))), SPACE))"
							}
						}
					],
					"sid": 696070708804544
				},
				{
					"eventType": "comment",
					"text": "Kill enemy if they are out of health"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 131247656892219,
							"parameters": {
								"instance-variable": "health",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Increment counter"
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 435178335234605,
							"parameters": {
								"variable": "enemiesKilled",
								"value": "1"
							}
						},
						{
							"type": "comment",
							"text": "Update enemy status, disable its movement and tween it out"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Enemy",
							"sid": 614682034850214,
							"parameters": {
								"instance-variable": "isDead",
								"value": "YES"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Enemy",
							"sid": 365914010207802,
							"behaviorType": "Physics",
							"parameters": {
								"mode": "disabled"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Enemy",
							"sid": 259640237429076,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.5",
								"ease": "easeinoutcubic",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						},
						{
							"type": "comment",
							"text": "Spawn an experience or health drop"
						},
						{
							"type": "comment",
							"text": "todo_ext add check if Enemy.experience > 0 & Enemy.healing > 0"
						},
						{
							"id": "spawn-another-object",
							"objectClass": "Enemy",
							"sid": 247845064383759,
							"parameters": {
								"object": "Drop",
								"layer": "LAYER_Main",
								"image-point": "0",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Drop",
							"sid": 721278977651726,
							"parameters": {
								"instance-variable": "experience",
								"value": "Enemy.experience"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Drop",
							"sid": 145596203029649,
							"parameters": {
								"instance-variable": "healing",
								"value": "Enemy.healing"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Drop",
							"sid": 293308116858116,
							"parameters": {
								"animation": "Enemy.experience > 0 ? ANIM_Experience : (Enemy.healing > 0 ? ANIM_Health : ANIM_Magnet)",
								"from": "beginning"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "Drop",
							"sid": 469205144351388,
							"parameters": {
								"frame-number": "min(floor(max(Self.experience, Self.healing) / max(1, Rules.Get(KEY_Level & DOT & KEY_Dividers & DOT & KEY_DropValueToLevel))), Self.AnimationFrameCount - 1)"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 526165644337781,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "itemSpawnCue = EMPTY ? EMPTY : \"Enemy is dead, gonna spawn an item: \" & itemSpawnCue"
							}
						}
					],
					"sid": 138573276807002,
					"children": [
						{
							"eventType": "comment",
							"text": "Spawn an item from the queue (if enemy is on the layout, but far enough from the player)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 713512228835158,
									"parameters": {
										"first-value": "Rules.ArraySize(KEY_Waves & DOT & wave & DOT & KEY_ItemSpawnPool)",
										"comparison": 4,
										"second-value": "0"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 457737067710452,
									"parameters": {
										"variable": "itemSpawnCue",
										"comparison": 1,
										"value": "EMPTY"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Enemy",
									"sid": 308229500784199,
									"parameters": {
										"object": "Item"
									},
									"isInverted": true
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 731344962535583,
									"parameters": {
										"first-value": "distance(Enemy.X, Enemy.Y, Player.X, Player.Y)",
										"comparison": 5,
										"second-value": "Rules.Get(KEY_Level & DOT & KEY_Distance & DOT & KEY_ItemSpawnMinimum)"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 222206496615398,
									"parameters": {
										"object-to-create": "Item",
										"layer": "LAYER_Main",
										"x": "Enemy.X",
										"y": "Enemy.Y",
										"create-hierarchy": true,
										"template-name": "\"\""
									}
								},
								{
									"type": "comment",
									"text": "Set modifier"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Item",
									"sid": 510478867346886,
									"parameters": {
										"instance-variable": "modifier",
										"value": "itemSpawnCue"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 528614721209450,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "\"Spawning item: \" & Item.modifier"
									}
								},
								{
									"type": "comment",
									"text": "Spawn icon"
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Item",
									"sid": 846552344039637,
									"parameters": {
										"object": "Icon",
										"layer": "LAYER_Main",
										"image-point": "0",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "Item",
									"sid": 208055744447936,
									"parameters": {
										"child": "Icon",
										"transform-x": true,
										"transform-y": true,
										"transform-w": true,
										"transform-h": true,
										"transform-a": true,
										"transform-o": true,
										"transform-z-elevation": false,
										"transform-visibility": true,
										"destroy-with-parent": true
									}
								},
								{
									"id": "set-size",
									"objectClass": "Icon",
									"sid": 743138762419580,
									"parameters": {
										"width": "8",
										"height": "8"
									}
								},
								{
									"type": "comment",
									"text": "Start tween to fade out item before next spawn"
								},
								{
									"id": "set-animation",
									"objectClass": "Icon",
									"sid": 906411942984468,
									"parameters": {
										"animation": "Rules.Get(KEY_Modifiers & DOT & Item.modifier & DOT & KEY_Icon)",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": "Spawn & initialize arrow"
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Player",
									"sid": 609512833515183,
									"parameters": {
										"object": "Arrow",
										"layer": "LAYER_Main",
										"image-point": "0",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "Item",
									"sid": 979781433410141,
									"parameters": {
										"child": "Arrow",
										"transform-x": false,
										"transform-y": false,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": true
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Arrow",
									"sid": 767624424458445,
									"parameters": {
										"instance-variable": "itemX",
										"value": "Item.X"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Arrow",
									"sid": 385930557196663,
									"parameters": {
										"instance-variable": "itemY",
										"value": "Item.Y"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "Arrow",
									"sid": 117538146717123,
									"parameters": {
										"opacity": "0"
									}
								},
								{
									"type": "comment",
									"text": "Remove spawned item from queue"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 597303569368787,
									"parameters": {
										"variable": "itemSpawnCue",
										"value": "EMPTY"
									}
								}
							],
							"sid": 418673705087675
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Reset \"damage taken recently\" variable after damage text is invisible again"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 771067080540230,
							"parameters": {
								"instance-variable": "damageTakenRecently",
								"comparison": 4,
								"value": "1"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Enemy",
							"sid": 811884615212423,
							"parameters": {
								"child": "UI_TextSF_Damage",
								"which": "own"
							}
						},
						{
							"id": "compare-opacity",
							"objectClass": "UI_TextSF_Damage",
							"sid": 906389376191912,
							"parameters": {
								"comparison": 0,
								"opacity": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Enemy",
							"sid": 221788281789269,
							"parameters": {
								"instance-variable": "damageTakenRecently",
								"value": "0"
							}
						}
					],
					"sid": 198297768925010
				},
				{
					"eventType": "comment",
					"text": "Move enemies that are not blocked by the weapon"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy",
							"sid": 795640150955139,
							"parameters": {
								"instance-variable": "isMovementBlocked",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [
						{
							"id": "set-immovable",
							"objectClass": "Enemy",
							"sid": 416539625453697,
							"behaviorType": "Physics",
							"parameters": {
								"setting": "movable"
							}
						},
						{
							"id": "apply-force-towards-position",
							"objectClass": "Enemy",
							"sid": 503204183871614,
							"behaviorType": "Physics",
							"parameters": {
								"force": "Self.movementSpeed",
								"x": "Player.X",
								"y": "Player.Y",
								"image-point": "0"
							}
						}
					],
					"sid": 403949667641976
				}
			]
		}
	],
	"sid": 389141576528271
}