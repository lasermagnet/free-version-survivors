{
	"name": "aWeapon üèπ",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Weapon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "weapon",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 535484699166720
				},
				{
					"name": "amount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 239254305447274
				},
				{
					"name": "firstAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 763453866054419
				},
				{
					"name": "scale",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"sid": 410210461955907
				},
				{
					"name": "positionRandom1",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 370468262071908
				},
				{
					"name": "positionRandom2",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 665538211913658
				},
				{
					"name": "bulletSpeed",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 635732062937968
				},
				{
					"name": "bulletAcceleration",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 581881872636391
				},
				{
					"name": "damage",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 905515065786839
				},
				{
					"name": "timeout",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 989317783080672
				},
				{
					"name": "isMovementBlocker",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 212053427248699
				},
				{
					"name": "isPinnedToPlayer",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 729922475904683
				},
				{
					"name": "orbitRadius",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 602882939538756
				},
				{
					"name": "orbitSpeed",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 169564006755256
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "for",
					"objectClass": "System",
					"sid": 756617946995276,
					"parameters": {
						"name": "\"\"",
						"start-index": "0",
						"end-index": "amount"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Spawn projectile"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 356296586837111,
					"parameters": {
						"object-to-create": "Weapon",
						"layer": "LAYER_Main",
						"x": "Player.X + random(-positionRandom2, positionRandom2) + positionRandom1",
						"y": "Player.Y + random(-positionRandom2, positionRandom2) + positionRandom1",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"type": "comment",
					"text": "Set animation"
				},
				{
					"id": "set-animation",
					"objectClass": "Weapon",
					"sid": 109321445146701,
					"parameters": {
						"animation": "weapon",
						"from": "beginning"
					}
				},
				{
					"type": "comment",
					"text": "Set sprite (movement) angle"
				},
				{
					"type": "comment",
					"text": "todo rule to adjust angle"
				},
				{
					"id": "set-angle",
					"objectClass": "Weapon",
					"sid": 411194248423230,
					"parameters": {
						"angle": "firstAngle + (360 / amount * loopindex)"
					}
				},
				{
					"type": "comment",
					"text": "Initialize bullet behaviour"
				},
				{
					"id": "set-speed",
					"objectClass": "Weapon",
					"sid": 362559078799455,
					"behaviorType": "Bullet",
					"parameters": {
						"speed": "bulletSpeed"
					}
				},
				{
					"id": "set-acceleration",
					"objectClass": "Weapon",
					"sid": 817302815704405,
					"behaviorType": "Bullet",
					"parameters": {
						"acceleration": "bulletAcceleration"
					}
				},
				{
					"type": "comment",
					"text": "Set scale"
				},
				{
					"id": "set-scale",
					"objectClass": "Weapon",
					"sid": 850260846443921,
					"parameters": {
						"scale": "scale"
					}
				},
				{
					"type": "comment",
					"text": "Set IVs"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Weapon",
					"sid": 303111533965803,
					"parameters": {
						"instance-variable": "damage",
						"value": "damage"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Weapon",
					"sid": 761030576107267,
					"parameters": {
						"instance-variable": "isMovementBlocker",
						"value": "isMovementBlocker"
					}
				},
				{
					"type": "comment",
					"text": "Start \"garbage collector\" tween which fades out & destroys the projectile"
				},
				{
					"id": "tween-one-property",
					"objectClass": "Weapon",
					"sid": 756080571815686,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "TWEEN_Projectile_Opacity_Lifetime",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "timeout",
						"ease": "easeinexpo",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				}
			],
			"sid": 977922686671153,
			"children": [
				{
					"eventType": "comment",
					"text": "Optionally pin weapon to player"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 187632530918798,
							"parameters": {
								"variable": "isPinnedToPlayer",
								"comparison": 0,
								"value": "YES"
							}
						}
					],
					"actions": [
						{
							"id": "add-child",
							"objectClass": "Player",
							"sid": 574983200930596,
							"parameters": {
								"child": "Weapon",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": false
							}
						},
						{
							"id": "pin",
							"objectClass": "Weapon",
							"sid": 589528934870697,
							"behaviorType": "Orbit",
							"parameters": {
								"target": "Player"
							}
						}
					],
					"sid": 287367267277474
				},
				{
					"eventType": "comment",
					"text": "Optionally enable orbit"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 264699727686455,
							"parameters": {
								"variable": "orbitRadius",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Weapon",
							"sid": 852566280552649,
							"behaviorType": "Orbit",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"type": "comment",
							"text": "todo rule to adjust \"match rotation\" property... but try to save an event"
						},
						{
							"id": "set-rotation",
							"objectClass": "Weapon",
							"sid": 382273664765805,
							"behaviorType": "Orbit",
							"parameters": {
								"angle": "firstAngle + (360 / amount * loopindex)"
							}
						},
						{
							"id": "set-radius",
							"objectClass": "Weapon",
							"sid": 281487009748042,
							"behaviorType": "Orbit",
							"parameters": {
								"primary": "orbitRadius",
								"secondary": "orbitRadius"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Weapon",
							"sid": 831296364898731,
							"behaviorType": "Orbit",
							"parameters": {
								"speed": "orbitSpeed"
							}
						}
					],
					"sid": 398192869315308
				}
			]
		}
	],
	"sid": 567716810740424
}