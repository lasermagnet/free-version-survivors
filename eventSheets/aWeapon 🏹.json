{
	"name": "aWeapon üèπ",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Weapon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "weapon",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 535484699166720
				},
				{
					"name": "amount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 239254305447274
				},
				{
					"name": "firstAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 763453866054419
				},
				{
					"name": "scale",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"sid": 410210461955907
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "for",
					"objectClass": "System",
					"sid": 756617946995276,
					"parameters": {
						"name": "\"\"",
						"start-index": "0",
						"end-index": "amount"
					}
				}
			],
			"actions": [
				{
					"type": "comment",
					"text": "Spawn projectile"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 200482084576445,
					"parameters": {
						"object-to-create": "Weapon",
						"layer": "LAYER_Main",
						"x": "Player.X",
						"y": "Player.Y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"type": "comment",
					"text": "Set animation"
				},
				{
					"id": "set-animation",
					"objectClass": "Weapon",
					"sid": 109321445146701,
					"parameters": {
						"animation": "weapon",
						"from": "beginning"
					}
				},
				{
					"type": "comment",
					"text": "Set movement speed"
				},
				{
					"id": "set-speed",
					"objectClass": "Weapon",
					"sid": 654757644910132,
					"behaviorType": "Bullet",
					"parameters": {
						"speed": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_MovementSpeed)"
					}
				},
				{
					"type": "comment",
					"text": "Set scale"
				},
				{
					"id": "set-scale",
					"objectClass": "Weapon",
					"sid": 850260846443921,
					"parameters": {
						"scale": "scale"
					}
				},
				{
					"type": "comment",
					"text": "Set IVs"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Weapon",
					"sid": 439078326474503,
					"parameters": {
						"instance-variable": "damage",
						"value": "Rules.Get(KEY_Weapons & DOT & weapon & DOT & KEY_Damage)"
					}
				},
				{
					"type": "comment",
					"text": "Set sprite (movement) angle"
				},
				{
					"id": "set-angle",
					"objectClass": "Weapon",
					"sid": 214497628590692,
					"parameters": {
						"angle": "firstAngle + (360 / amount * loopindex)"
					}
				},
				{
					"type": "comment",
					"text": "Start \"garbage collector\" tween which fades out & destroys the projectile"
				},
				{
					"id": "tween-one-property",
					"objectClass": "Weapon",
					"sid": 954323146863235,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "TWEEN_Projectile_Opacity_Lifetime",
						"property": "offsetOpacity",
						"end-value": "0",
						"time": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_Timeout)",
						"ease": "easeinexpo",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				}
			],
			"sid": 977922686671153,
			"children": [
				{
					"eventType": "comment",
					"text": "Optionally pin weapon to player"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 453830093049847,
							"parameters": {
								"path": "KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_Pin",
								"cmp": 0,
								"value": "YES"
							}
						}
					],
					"actions": [
						{
							"id": "add-child",
							"objectClass": "Player",
							"sid": 574983200930596,
							"parameters": {
								"child": "Weapon",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": false
							}
						},
						{
							"id": "pin",
							"objectClass": "Weapon",
							"sid": 589528934870697,
							"behaviorType": "Orbit",
							"parameters": {
								"target": "Player"
							}
						}
					],
					"sid": 287367267277474
				},
				{
					"eventType": "comment",
					"text": "Optionally enable orbit"
				},
				{
					"bookmark": true,
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "Rules",
							"sid": 261510604468762,
							"parameters": {
								"path": "KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_OrbitRadius",
								"cmp": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Weapon",
							"sid": 852566280552649,
							"behaviorType": "Orbit",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-rotation",
							"objectClass": "Weapon",
							"sid": 382273664765805,
							"behaviorType": "Orbit",
							"parameters": {
								"angle": "firstAngle + (360 / amount * loopindex)"
							}
						},
						{
							"id": "set-radius",
							"objectClass": "Weapon",
							"sid": 774168030408399,
							"behaviorType": "Orbit",
							"parameters": {
								"primary": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_OrbitRadius)",
								"secondary": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_OrbitRadius)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Weapon",
							"sid": 229163026732764,
							"behaviorType": "Orbit",
							"parameters": {
								"speed": "Rules.Get(KEY_Weapons & DOT & Weapon.AnimationName & DOT & KEY_OrbitSpeed)"
							}
						}
					],
					"sid": 398192869315308
				}
			]
		}
	],
	"sid": 567716810740424
}